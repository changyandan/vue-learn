<!DOCTYPE HTML>
<html>

<head>
    <title>vue_tab</title>
    <link rel="stylesheet" type="text/css" href="tab.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>

<body>
    <div id="tab">
        <div class="tab-tit">
            <!--点击设置curId的值  如果curId等于0，第一个a添加cur类名，如果curId等于1，第二个a添加cur类名，以此类推。添加了cur类名，a就会改变样式 @click,:class ,v-show这三个是vue常用的指令或添加事件的方式-->
            <a href="javascript:;" @click="curId=0" :class="{'cur':curId===0}">全部</a>
            <a href="javascript:;" @click="curId=1" :class="{'cur':curId===1}">央视</a>
            <a href="javascript:;" @click="curId=2" :class="{'cur':curId===2}">卫视</a>
        </div>
        <div class="tab-con">
            <!--根据curId的值显示div,如果curId等于0，第一个div显示，其它三个div不显示。如果curId等于1，第二个div显示，其它三个div不显示。以此类推-->
            <div v-show="curId===0">
                全部
                <ul>
                    <!-- <li><span>排名：1</span><span>频道：cctv</span><span>节目：这是节目名称</span></li> -->
                    <li v-for="item in alldata"><span>排名：{{item.rank}}</span><span>频道：{{item.tv_name}}</span><span>节目：{{item.epg_name}}</span></li>
                </ul>
            </div>
            <div v-show="curId===1">{{ysmessage}}</div>
            <div v-show="curId===2">卫视</div>
        </div>
    </div>
</body>
<script>
var vmm=new Vue({
    el: '#tab',
    data: {
        curId: 0,
        alldata:[],
        ysmessage:'央视222'
    },
    computed: {
        
    },
    created:function(){
        $.ajax({
                url:'http://eye.kuyun.com/api/tvlb?tv_type=0',
                type:'get',
                dataType:'json',
                sucess:function(res){
                    for(var i=0;i<res.length;i++){
                        alert(res.length);
                        vmm.alldata.push(res[i]);
                    }
                }
            })
    },
    methods: {
        
    },
    mounted: function() {
    }
})
</script>

</html>